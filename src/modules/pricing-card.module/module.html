{# Module styles #}

<style>
{% scope_css %}

  /* Heading */

  .pricing-card__heading {
    {% if module.styles.heading.background.color %}
      background-color: rgba({{ module.styles.heading.background.color.color|convert_rgb }}, {{ module.styles.heading.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.heading.spacing.spacing.css }}
  }

  /* List */

  {% if module.list.use_custom_bullet_points %}
    .pricing-card__list {
      list-style: none;
      padding-left: 0;
    }

    .pricing-card__list-item {
      align-items: center;
      display: flex;
      width: 100%;
    }
  {% endif %}

  .pricing-card__list-item {
    {{ module.styles.list.list_items.spacing.between_list_items.css }}
  }

  .pricing-card__list-icon {
    {% if module.styles.list.icons.background.color.color %}
      background-color: rgba({{ module.styles.list.icons.background.color.color|convert_rgb }}, {{ module.styles.list.icons.background.color.opacity / 100 }});
    {% endif %}
    {% if module.styles.list.icons.corner.radius %}
      border-radius: {{ module.styles.list.icons.corner.radius ~ 'px' }};
    {% endif %}
    {% if module.use_custom_bullet_points && module.styles.list.list_items.spacing.between_icon_and_list_items %}
      margin-right: {{ module.styles.list.list_items.spacing.between_icon_and_list_items ~ 'px' }};
    {% endif %}
    {{ module.styles.list.icons.spacing.spacing.css }}
  }

  .pricing-card__list-icon svg {
    {% if module.styles.list.icons.fill.color.color %}
      fill: {{ module.styles.list.icons.fill.color.color }};
    {% endif %}
    {% if module.styles.list.icons.size.size %}
      height: {{ module.styles.list.icons.size.size ~ 'px' }};
      width: {{ module.styles.list.icons.size.size ~ 'px' }};
    {% endif %}
  }

  /* Button */

  {% if module.styles.button.alignment.alignment %}
    .pricing-card__button-wrapper {
      text-align: {{ module.styles.button.alignment.alignment.horizontal_align }};
    }
  {% endif %}

  .button {
    {% if module.styles.button.background.color.color %}
      background-color: rgba({{ module.styles.button.background.color.color|convert_rgb }}, {{ module.styles.button.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.button.border.border.css }}
    {% if module.styles.button.corner.radius %}
      border-radius: {{ module.styles.button.corner.radius ~ 'px' }};
    {% endif %}
    {% if module.styles.button.text.font.color %}
      color: {{ module.styles.button.text.font.color }};
    {% endif %}
    {% if module.styles.button.text.font.size %}
      font-size: {{ module.styles.button.text.font.size ~ module.styles.button.text.font.size_unit }};
    {% endif %}
    {% if module.styles.button.text.font.style %}
      {{ module.styles.button.text.font.style }};
    {% endif %}
    {{ module.styles.button.spacing.spacing.css }}
    {% if module.styles.button.text.transform %}
      text-transform: {{ module.styles.button.text.transform }};
    {% endif %}
  }

  {% if module.add_icon && module.icon.icon && module.styles.button.text.font.color %}
    .button svg {
      fill: {{ module.styles.button.text.font.color }};
    }
  {% endif %}

  .button:hover,
  .button:focus {
    {% if module.styles.button.hover.background.color.color %}
      background-color: rgba({{ module.styles.button.hover.background.color.color|convert_rgb }}, {{ module.styles.button.hover.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.button.hover.border.border.css }}
    {% if module.styles.button.hover.text.font.color %}
      color: {{ module.styles.button.hover.text.font.color }};
    {% endif %}
    {% if module.styles.button.hover.text.font.size %}
      font-size: {{ module.styles.button.hover.text.font.size ~ module.styles.button.hover.text.font.size_unit }};
    {% endif %}
    {% if module.styles.button.hover.text.font.style %}
      {{ module.styles.button.hover.text.font.style }};
    {% endif %}
  }

  {% if module.add_icon && module.icon.icon && module.styles.button.text.font.color %}
    .button:hover svg,
    .button:focus svg {
      fill: {{ module.styles.button.hover.text.font.color }};
    }
  {% endif %}

  .button:active {
    {% if module.styles.button.hover.background.color.color %}
      background-color: rgba({{ color_variant(module.styles.button.hover.background.color.color, 80)|convert_rgb }}, {{ module.styles.button.hover.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.button.hover.border.border.css }}
    {% if module.styles.button.hover.border.border.top.css %}
      border-color: {{ color_variant(module.styles.button.hover.border.border.top.color, 80) }};
    {% endif %}
    {{ module.styles.button.hover.text.font.css }}
  }

  {% if module.add_icon && module.icon.icon && module.styles.button.text.font.color %}
    .button:active svg {
      fill: {{ module.styles.button.hover.text.font.color }};
    }
  {% endif %}

  /* Card */

  .pricing-card {
    {% if module.styles.card.background.color.color %}
      background-color: rgba({{ module.styles.card.background.color.color|convert_rgb }}, {{ module.styles.card.background.color.opacity / 100 }});
    {% endif %}
    {{ module.styles.card.border.border.css }}
    {% if module.styles.card.corner.radius %}
      border-radius: {{ module.styles.card.corner.radius ~ 'px' }};
    {% endif %}
    {% if module.styles.card.height.min_height %}
      min-height: {{ module.styles.card.height.min_height ~ 'px' }};
    {% endif %}
    {% if module.styles.card.spacing.spacing.margin.bottom %}
      margin-bottom: {{ module.styles.card.spacing.spacing.margin.bottom.value ~ module.styles.card.spacing.spacing.margin.bottom.units }};
    {% endif %}
    {% if module.styles.card.spacing.spacing.margin.top %}
      margin-top: {{ module.styles.card.spacing.spacing.margin.top.value ~ module.styles.card.spacing.spacing.margin.top.units }};
    {% endif %}
  }

  {% if module.styles.card.spacing.spacing.padding %}
    .pricing-card__content {
      {% if module.styles.card.spacing.spacing.padding.bottom %}
        padding-bottom: {{ module.styles.card.spacing.spacing.padding.bottom.value ~ module.styles.card.spacing.spacing.padding.bottom.units }};
      {% endif %}
      {% if module.styles.card.spacing.spacing.padding.top %}
        padding-top: {{ module.styles.card.spacing.spacing.padding.top.value ~ module.styles.card.spacing.spacing.padding.top.units }};
      {% endif %}
      {% if module.styles.card.spacing.spacing.padding.left %}
        padding-bottom: {{ module.styles.card.spacing.spacing.padding.left.value ~ module.styles.card.spacing.spacing.padding.left.units }};
      {% endif %}
      {% if module.styles.card.spacing.spacing.padding.right %}
        padding-top: {{ module.styles.card.spacing.spacing.padding.right.value ~ module.styles.card.spacing.spacing.padding.right.units }};
      {% endif %}
    }
  {% elif !card_style %}
    .pricing-card__content {
      padding: 1.4rem;
    }
  {% endif %}

{% end_scope_css %}
</style>

{# Sets CSS classes based on style field options #}

{% if module.styles.list.icons.presets.icon_size == 'small' %}
  {% set icon_size = 'icon--small' %}
{% elif module.styles.list.icons.presets.icon_size == 'large' %}
  {% set icon_size = 'icon--large' %}
{% endif %}

{% if module.styles.list.icons.presets.icon_color == 'light' %}
  {% set icon_color = 'icon--light' %}
{% endif %}

{% if module.styles.list.icons.presets.icon_shape == 'square' %}
  {% set icon_shape = 'icon--square' %}
{% endif %}

{% if module.styles.button.presets.button_style == 'secondary' %}
  {% set button_style = 'button--secondary' %}
{% elif module.styles.button.presets.button_style == 'simple' %}
  {% set button_style = 'button--simple' %}
{% endif %}

{% if module.styles.button.presets.button_size == 'small' %}
  {% set button_size = 'button--small' %}
{% elif module.styles.button.presets.button_size == 'large' %}
  {% set button_size = 'button--large' %}
{% endif %}

{% if module.button.icon.position == 'right' %}
  {% set icon_position = 'button--icon-right' %}
{% endif %}

{% if module.styles.card.presets.card_style == 'dark' %}
  {% set card_style = 'card--dark' %}
{% elif module.styles.card.presets.card_style == 'light' %}
  {% set card_style = 'card--light' %}
{% endif %}

{# Pricing card #}

<section class="pricing-card">

  {# Heading #}

  <div class="pricing-card__heading">
    {{ module.heading.heading }}
  </div>

  {# Pricing card content #}

  <div class="pricing-card__content card {{ card_style }}">

    {# Price #}

    <div class="pricing-card__price">
      {{ module.price.price }}
    </div>

    {# Subheading #}

    <div class="pricing-card__subheading">
      {{ module.subheading.subheading }}
    </div>

    {# List items #}

    <ul class="pricing-card__list">
      {% for item in module.list.list_items %}
        <li class="pricing-card__list-item">
          {% if module.list.use_custom_bullet_points && module.list.use_same_icon_for_all_list_items && module.list.icon %}

            <span class="{{ icon_size }} {{ icon_color }} {{ icon_shape }}">
              {% icon
                extra_classes='pricing-card__list-icon icon'
                name="{{ module.list.icon.name }}",
                icon_set="{{ module.list.icon.icon_set }}",
                purpose='decorative',
                style="{{ module.list.icon.type }}",
                unicode="{{ module.list.icon.unicode }}",
              %}
            </span>

          {% elif module.list.use_custom_bullet_points && item.icon %}

            <span class="{{ icon_size }} {{ icon_color }} {{ icon_shape }}">
              {% icon
                extra_classes='pricing-card__list-icon icon'
                name="{{ item.icon.name }}",
                icon_set="{{ item.icon.icon_set }}",
                purpose='decorative',
                style="{{ item.icon.type }}",
                unicode="{{ item.icon.unicode }}",
              %}
            </span>

          {% endif %}
          <div class="pricing-card__list-content">
            {{ item.content }}
          </div>
        </li>
      {% endfor %}
    </ul>

  {# Button #}

  {# Sets attributes used for the link field #}

  {% set href = module.button.button_link.url.href %}
    {% if module.button.button_link.url.type is equalto 'EMAIL_ADDRESS' %}
      {% set href = 'mailto:' + href %}
    {% endif %}
    {% set rel = [] %}
    {% if module.button.button_link.no_follow %}
      {% do rel.append('nofollow') %}
    {% endif %}
    {% if module.button.button_link.open_in_new_tab %}
      {% do rel.append('noopener') %}
    {% endif %}

    <div class="pricing-card__button-wrapper">
      <a href="{{ href }}" class="button {{ button_style }} {{ button_size }} {{ icon_position }}"
        {% if module.button.button_link.open_in_new_tab %}target="_blank"{% endif %}
        {% if rel %}rel="{{ rel|join(" ") }}"{% endif %}
      >
        {% if module.button.add_icon && module.button.icon.icon %}
          {% icon
            extra_classes='button__icon'
            name='{{ module.button.icon.icon.name }}'
            purpose='decorative'
            style='{{ module.button.icon.icon.type }}'
            unicode='{{ module.button.icon.icon.unicode }}'
          %}
        {% endif %}
        {{ module.button.button_text }}
      </a>
    </div>

  </div>

</section>